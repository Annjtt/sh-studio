# Техническое задание на разработку Telegram бота для SH Studio

## 1. Общие сведения

### 1.1 Назначение
Телеграм-бот предназначен для автоматизации процесса обработки заявок с веб-сайта SH Studio и их пересылки в специализированную группу заказов в Telegram.

### 1.2 Цели создания
- Автоматизация процесса обработки заявок
- Оперативное информирование команды о новых заказах
- Организация единого центра обработки заявок
- Обеспечение сохранности данных заявок

## 2. Требования к функциональным характеристикам

### 2.1 Основные функции
- Прием заявок с веб-формы сайта
- Обработка прикрепленных файлов
- Форматирование сообщений для отправки в Telegram
- Отправка уведомлений в группу заказов
- Сохранение истории заявок

### 2.2 Структура сообщения в Telegram
Каждое сообщение должно содержать:
- Уникальный номер заявки
- Имя клиента
- Email для связи
- Описание проекта
- Дополнительное сообщение
- Прикрепленные файлы (если есть)
- Дата и время получения заявки

### 2.3 Обработка файлов
- Поддерживаемые форматы: .jpg, .jpeg, .png, .pdf, .doc, .docx
- Максимальный размер файла: 5MB
- Проверка файлов на безопасность
- Сохранение файлов во временное хранилище

## 3. Технические требования

### 3.1 Требования к программному обеспечению
- Python 3.8+
- Библиотека python-telegram-bot
- FastAPI для API endpoint
- SQLite/PostgreSQL для хранения данных

### 3.2 API Endpoints
- POST /api/submit-form - прием заявок с формы
- GET /api/status - проверка статуса бота

### 3.3 Безопасность
- Валидация входящих данных
- Защита от спама и флуда
- Безопасное хранение токенов и ключей
- Логирование всех операций

## 4. Требования к надежности

### 4.1 Отказоустойчивость
- Автоматическое восстановление после сбоев
- Очередь сообщений при недоступности Telegram API
- Резервное копирование данных

### 4.2 Мониторинг
- Отслеживание статуса бота
- Мониторинг ошибок
- Статистика обработанных заявок

## 5. Требования к документации

### 5.1 Техническая документация
- Инструкция по установке и настройке
- API документация
- Описание структуры базы данных

### 5.2 Пользовательская документация
- Инструкция по интеграции с сайтом
- Руководство по обработке заявок
- FAQ для администраторов

## 6. Сроки и этапы разработки

### 6.1 Этапы
1. Разработка базовой структуры бота (5 дней)
2. Реализация API и интеграция с сайтом (3 дня)
3. Разработка системы обработки файлов (2 дня)
4. Тестирование и отладка (3 дня)
5. Документирование и развертывание (2 дня)

Общий срок разработки: 15 рабочих дней